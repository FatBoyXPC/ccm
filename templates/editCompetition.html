<template name="editCompetition">
<h1>{{competitionName}}</h1>

<div>

  <div>
    <label>
      Competition Name:
      <input type="text" name="competitionName" value="{{competitionName}}" />
    </label>
  </div>

  <div>
    <label>
      WCA Competition ID:
      <input type="text" name="wcaCompetitionId" value="{{wcaCompetitionId}}" />
    </label>
  </div>

  <!-- TODO - see https://github.com/jfly/gjcomps/issues/10
  <p>
    {{#if listed}}
      Competition is currently listed.
    {{else}}
      Competition is currently NOT listed.
    {{/if}}
  </p>
  -->
  <div>
    <label>
      Listed:
      <input type="checkbox" name="listed" checked="{{listed}}" />
    </label>
  </div>

  <div id="organizersList">
    <h2>Organizers</h2>
    {{> editCompetition_users userIds=organizers}}
  </div>

  <div id="staffList">
    <h2>Staff</h2>
    {{> editCompetition_users userIds=staff}}
  </div>

  <div id="editEventsList">
    <h2>Events</h2>
    <ul>
      {{#each eventList}}
        <li class="event">
          <button type="button" class="btn collapsed btn-default btn">
            <span class="glyphicon"></span> {{eventCode}}
          </button>
          <table class="roundList">
            <tr>
              <th align="left">Round Name</th>
              <th align="left"># Competitors</th>
              <th align="left">Status</th>
            </tr>
            {{#each rounds}}
              <tr>
                <td align="left">{{roundName roundCode}}</td>
                <td align="left">{{numberOfPeople}}</td>
                <th align="left">In Progress</th>
              
              </tr>
             <!--  <a href="{{pathFor 'round' wcaCompetitionId=../../wcaCompetitionId eventCode=eventCode roundCode=roundCode}}"> -->
              <!-- </a> -->
            {{/each}}
              <tr>
                <td align="left">Add Round</td>
              </tr>
          </table>
        </li>
      {{/each}}
    </ul>
  </div>

</div>

</template>

<template name="editCompetition_users">
  <ul>
    {{#each users}}
      <li>
        {{username}} {{profile.name}}
      </li>
    {{/each}}
  </ul>

  {{! TODO - choose staff and organizers }}
  {{! workaround for https://github.com/mizzao/meteor-autocomplete/issues/65 }}
  <div style="position: relative">
    {{> inputAutocomplete settings=usersAutocompleteSettings placeholder="Enter name..."}}
  </div>
</template>

<template name="userPill">
  <span class="label">{{profile.name}}</span>
</template>
